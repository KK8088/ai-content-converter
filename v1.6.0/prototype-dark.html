<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI内容格式转换工具 v1.6.0 - Dark Cyber主题</title>
    
    <!-- Google Fonts - JetBrains Mono -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- 基础Fluid Design样式 -->
    <link rel="stylesheet" href="css/fluid-design.css">
    <!-- Dark Cyber主题 -->
    <link rel="stylesheet" href="css/dark-cyber-theme.css">
    
    <style>
        /* 页面特定样式 */
        .app-layout {
            min-height: 100vh;
            display: grid;
            grid-template-rows: auto 1fr auto;
        }

        .app-header {
            padding: var(--space-xl) 0;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--space-lg);
        }

        .brand {
            flex: 1;
        }

        .app-subtitle {
            color: var(--text-secondary);
            margin-top: var(--space-sm);
            font-family: 'JetBrains Mono', monospace;
            font-weight: 300;
            letter-spacing: 1px;
        }

        .version-info {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .app-main {
            padding: var(--space-2xl) 0;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: var(--space-xl);
        }

        .input-section {
            margin-bottom: var(--space-xl);
        }

        .input-header {
            margin-bottom: var(--space-lg);
            text-align: center;
        }

        .input-header h2 {
            color: var(--text-primary);
            margin-bottom: var(--space-sm);
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .input-header p {
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
            font-weight: 300;
        }

        .smart-input-wrapper {
            position: relative;
        }

        .input-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: var(--space-md);
            padding: 0 var(--space-md);
        }

        .word-count {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 500;
            color: var(--text-muted);
        }

        .action-section {
            text-align: center;
            margin-bottom: var(--space-xl);
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--space-lg);
            margin-bottom: var(--space-lg);
        }

        .mode-switch {
            margin-top: var(--space-md);
        }

        .mode-switch-btn {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
            font-size: var(--text-sm);
            text-decoration: underline;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: var(--transition-glow);
        }

        .mode-switch-btn:hover {
            color: var(--neon-blue);
            text-shadow: 0 0 5px var(--neon-blue);
        }

        .suggestion-section {
            margin-bottom: var(--space-xl);
        }

        .advanced-panel {
            transition: var(--transition-cyber);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
            padding-bottom: var(--space-md);
            border-bottom: 1px solid var(--border-primary);
        }

        .panel-header h3 {
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .panel-body {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }

        .option-group {
            margin-bottom: var(--space-lg);
        }

        .option-label {
            display: block;
            margin-bottom: var(--space-sm);
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: var(--text-sm);
        }

        .format-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-md);
        }

        .option-text {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .template-select, .filename-input {
            width: 100%;
            font-family: 'JetBrains Mono', monospace;
        }

        .advanced-options {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .checkbox-option {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 400;
            color: var(--text-secondary);
        }

        .checkbox-option input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: var(--neon-cyan);
        }

        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: 'JetBrains Mono', monospace;
            font-size: var(--text-sm);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-text {
            color: var(--text-secondary);
        }

        .conversion-count {
            color: var(--text-muted);
        }

        /* 特殊效果 */
        .cyber-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 212, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: -1;
        }

        /* 粒子效果容器 */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: var(--neon-blue);
            border-radius: 50%;
            animation: float 6s infinite linear;
            opacity: 0.6;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-10vh) translateX(100px);
                opacity: 0;
            }
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .action-buttons {
                flex-direction: column;
                align-items: stretch;
            }

            .format-options {
                grid-template-columns: 1fr;
            }

            .status-bar {
                flex-direction: column;
                gap: var(--space-sm);
                text-align: center;
            }
        }

        /* 加载动画 */
        .loading-cyber {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-primary);
            border-top: 2px solid var(--neon-blue);
            border-radius: 50%;
            animation: cyber-spin 1s linear infinite;
        }

        @keyframes cyber-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- 网格背景效果 -->
    <div class="cyber-grid"></div>
    
    <!-- 粒子效果 -->
    <div class="particles" id="particles"></div>

    <div id="app">
        <div class="app-layout">
            <!-- 应用头部 -->
            <header class="app-header app-header-cyber glass-cyber">
                <div class="container">
                    <div class="header-content">
                        <div class="brand">
                            <h1 class="app-title app-title-cyber text-3xl">AI内容格式转换工具</h1>
                            <p class="app-subtitle">INTELLIGENT CONVERSION • ONE CLICK COMPLETE</p>
                        </div>
                        <div class="version-info">
                            <span class="version-badge version-badge-cyber">v1.6.0</span>
                            <span class="mode-indicator mode-indicator-cyber" data-mode="simple">
                                SIMPLE MODE
                            </span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- 主要内容区域 -->
            <main class="app-main">
                <div class="container">
                    <div class="main-content">
                        <!-- 智能输入区域 -->
                        <div class="input-section card-cyber glass-cyber">
                            <div class="input-header">
                                <h2>PASTE YOUR AI CONVERSATION CONTENT</h2>
                                <p>支持ChatGPT、Claude、文心一言等AI工具的对话内容</p>
                            </div>
                            
                            <div class="smart-input-wrapper">
                                <textarea 
                                    class="smart-input smart-input-cyber input-cyber" 
                                    placeholder="Ctrl+V 粘贴内容，我们会自动识别最佳格式..."
                                    data-auto-resize="true"
                                ></textarea>
                                
                                <div class="input-status">
                                    <span class="word-count">0 CHARS</span>
                                    <div class="format-indicator indicator-cyber">
                                        <span class="indicator-dot indicator-dot-cyber"></span>
                                        <span class="indicator-text">WAITING INPUT</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 操作按钮区域 -->
                        <div class="action-section">
                            <div class="action-buttons">
                                <button class="btn btn-primary-cyber btn-lg smart-convert-btn">
                                    <span class="btn-icon">🚀</span>
                                    <span class="btn-text">SMART CONVERT</span>
                                </button>
                                
                                <button class="btn btn-cyber advanced-toggle-btn">
                                    <span class="btn-icon">⚙️</span>
                                    <span class="btn-text">ADVANCED</span>
                                </button>
                            </div>
                            
                            <div class="mode-switch">
                                <button class="mode-switch-btn" data-mode="toggle">
                                    SWITCH TO ADVANCED MODE
                                </button>
                            </div>
                        </div>

                        <!-- 智能建议区域 -->
                        <div class="suggestion-section hidden">
                            <div class="suggestion-card suggestion-card-cyber card-cyber">
                                <div class="suggestion-content">
                                    <!-- 动态内容 -->
                                </div>
                            </div>
                        </div>

                        <!-- 高级选项面板 -->
                        <div class="advanced-panel hidden">
                            <div class="advanced-content card-cyber glass-cyber">
                                <div class="panel-header">
                                    <h3>ADVANCED OPTIONS</h3>
                                    <button class="panel-close-btn btn btn-cyber btn-sm">
                                        <span>CLOSE</span>
                                    </button>
                                </div>
                                
                                <div class="panel-body">
                                    <!-- 格式选择 -->
                                    <div class="option-group">
                                        <label class="option-label">OUTPUT FORMAT</label>
                                        <div class="format-options">
                                            <label class="format-option format-option-cyber">
                                                <input type="radio" name="format" value="docx" checked>
                                                <span class="option-content option-content-cyber">
                                                    <span class="option-icon option-icon-cyber">📄</span>
                                                    <span class="option-text">WORD DOC</span>
                                                </span>
                                            </label>
                                            <label class="format-option format-option-cyber">
                                                <input type="radio" name="format" value="xlsx">
                                                <span class="option-content option-content-cyber">
                                                    <span class="option-icon option-icon-cyber">📊</span>
                                                    <span class="option-text">EXCEL SHEET</span>
                                                </span>
                                            </label>
                                            <label class="format-option format-option-cyber">
                                                <input type="radio" name="format" value="pdf">
                                                <span class="option-content option-content-cyber">
                                                    <span class="option-icon option-icon-cyber">📄</span>
                                                    <span class="option-text">PDF DOC</span>
                                                </span>
                                            </label>
                                        </div>
                                    </div>

                                    <!-- 模板选择 -->
                                    <div class="option-group">
                                        <label class="option-label">DOCUMENT TEMPLATE</label>
                                        <select class="template-select input-cyber">
                                            <option value="professional">PROFESSIONAL</option>
                                            <option value="simple">MINIMAL</option>
                                            <option value="academic">ACADEMIC</option>
                                            <option value="creative">CREATIVE</option>
                                        </select>
                                    </div>

                                    <!-- 文件名设置 -->
                                    <div class="option-group">
                                        <label class="option-label">FILE NAME</label>
                                        <input type="text" class="filename-input input-cyber" placeholder="AUTO GENERATED FILENAME">
                                    </div>

                                    <!-- 高级设置 -->
                                    <div class="option-group">
                                        <label class="option-label">ADVANCED SETTINGS</label>
                                        <div class="advanced-options">
                                            <label class="checkbox-option">
                                                <input type="checkbox" class="preserve-formatting">
                                                <span class="checkbox-text">PRESERVE FORMATTING</span>
                                            </label>
                                            <label class="checkbox-option">
                                                <input type="checkbox" class="include-metadata">
                                                <span class="checkbox-text">INCLUDE METADATA</span>
                                            </label>
                                            <label class="checkbox-option">
                                                <input type="checkbox" class="optimize-mobile">
                                                <span class="checkbox-text">MOBILE OPTIMIZATION</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- 状态栏 -->
            <footer class="app-footer app-footer-cyber glass-cyber">
                <div class="container">
                    <div class="status-bar">
                        <div class="status-info">
                            <span class="status-text">SYSTEM READY</span>
                        </div>
                        <div class="quick-stats">
                            <span class="conversion-count">TODAY CONVERSIONS: 0</span>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- 加载脚本 -->
    <script src="js/ai/ContentAnalyzer.js"></script>
    <script src="js/components/DualMode.js"></script>
    
    <script>
        // 粒子效果
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 20;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                
                // 随机颜色
                const colors = ['#00d4ff', '#8b5cf6', '#06ffa5', '#ff006e'];
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                particlesContainer.appendChild(particle);
            }
        }

        // 初始化应用
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🌙 AI内容格式转换工具 v1.6.0 - Dark Cyber主题启动');
            
            // 创建粒子效果
            createParticles();
            
            // 模拟双模式控制器（简化版）
            let currentMode = 'simple';
            
            // 模式切换
            const modeSwitchBtn = document.querySelector('.mode-switch-btn');
            const modeIndicator = document.querySelector('.mode-indicator-cyber');
            
            modeSwitchBtn?.addEventListener('click', () => {
                currentMode = currentMode === 'simple' ? 'advanced' : 'simple';
                
                modeIndicator.textContent = currentMode === 'simple' ? 'SIMPLE MODE' : 'ADVANCED MODE';
                modeIndicator.setAttribute('data-mode', currentMode);
                
                modeSwitchBtn.textContent = currentMode === 'simple' 
                    ? 'SWITCH TO ADVANCED MODE' 
                    : 'SWITCH TO SIMPLE MODE';
                
                showCyberMessage(`SWITCHED TO ${currentMode.toUpperCase()} MODE`, 'info');
            });
            
            // 高级选项切换
            const advancedToggleBtn = document.querySelector('.advanced-toggle-btn');
            const advancedPanel = document.querySelector('.advanced-panel');
            
            advancedToggleBtn?.addEventListener('click', () => {
                const isHidden = advancedPanel.classList.contains('hidden');
                
                if (isHidden) {
                    advancedPanel.classList.remove('hidden');
                    advancedPanel.classList.add('animate-slide-up');
                    advancedToggleBtn.querySelector('.btn-text').textContent = 'CLOSE';
                } else {
                    advancedPanel.classList.add('hidden');
                    advancedToggleBtn.querySelector('.btn-text').textContent = 'ADVANCED';
                }
            });
            
            // 面板关闭
            const panelCloseBtn = document.querySelector('.panel-close-btn');
            panelCloseBtn?.addEventListener('click', () => {
                advancedPanel.classList.add('hidden');
                advancedToggleBtn.querySelector('.btn-text').textContent = 'ADVANCED';
            });
            
            // 智能转换
            const smartConvertBtn = document.querySelector('.smart-convert-btn');
            smartConvertBtn?.addEventListener('click', async () => {
                const input = document.querySelector('.smart-input-cyber');
                const content = input?.value?.trim();
                
                if (!content) {
                    showCyberMessage('PLEASE INPUT CONTENT FIRST', 'warning');
                    return;
                }
                
                // 设置加载状态
                const btnText = smartConvertBtn.querySelector('.btn-text');
                const btnIcon = smartConvertBtn.querySelector('.btn-icon');
                
                smartConvertBtn.disabled = true;
                btnIcon.innerHTML = '<div class="loading-cyber"></div>';
                btnText.textContent = 'CONVERTING...';
                
                // 模拟转换
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // 恢复状态
                smartConvertBtn.disabled = false;
                btnIcon.textContent = '🚀';
                btnText.textContent = 'SMART CONVERT';
                
                showCyberMessage('CONVERSION COMPLETED!', 'success');
            });
            
            // 输入框事件
            const smartInput = document.querySelector('.smart-input-cyber');
            const wordCount = document.querySelector('.word-count');
            const indicatorDot = document.querySelector('.indicator-dot-cyber');
            const indicatorText = document.querySelector('.indicator-text');
            
            smartInput?.addEventListener('input', (e) => {
                const content = e.target.value;
                wordCount.textContent = `${content.length} CHARS`;
                
                if (content.length > 10) {
                    indicatorDot.className = 'indicator-dot indicator-dot-cyber analyzing';
                    indicatorText.textContent = 'ANALYZING...';
                    smartInput.classList.add('analyzing');
                    
                    // 模拟分析
                    setTimeout(() => {
                        indicatorDot.className = 'indicator-dot indicator-dot-cyber ready';
                        indicatorText.textContent = 'READY TO CONVERT';
                        smartInput.classList.remove('analyzing');
                    }, 1500);
                } else {
                    indicatorDot.className = 'indicator-dot indicator-dot-cyber';
                    indicatorText.textContent = 'WAITING INPUT';
                    smartInput.classList.remove('analyzing');
                }
            });
            
            // 显示霓虹消息
            function showCyberMessage(message, type = 'info') {
                const messageEl = document.createElement('div');
                messageEl.className = `message-cyber ${type}`;
                messageEl.textContent = message;
                
                document.body.appendChild(messageEl);
                
                setTimeout(() => {
                    messageEl.remove();
                }, 3000);
            }
            
            // 测试数据
            window.testData = {
                table: `| 产品 | 销量 | 价格 |\n|------|------|------|\n| A | 100 | 50 |\n| B | 200 | 80 |`,
                code: '```javascript\nfunction hello() {\n  console.log("Hello World");\n}\n```',
                long: '这是一段很长的文本内容，用于测试PDF格式推荐...'.repeat(50)
            };
            
            console.log('🎮 Dark Cyber主题初始化完成！');
            console.log('💡 使用 testData 对象测试不同内容类型');
        });
    </script>
</body>
</html>
